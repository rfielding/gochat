{
  "site_title": "Chat Forms",
  "base_url": "http://localhost:8080",
  "templates": {
    "chat_form": {
      "html": "<!DOCTYPE html><html><head><title>{{.Title}}</title><style>body{font-family:Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px}#chat-container{height:400px;border:1px solid #ccc;margin:20px 0;padding:10px;overflow-y:auto}#user-input{width:80%;padding:10px;margin-right:10px}button{padding:10px 20px;background:#007bff;color:white;border:none;cursor:pointer}</style></head><body><h1>{{.Title}}</h1><p>{{.Description}}</p><div id='chat-container'></div><div style='display:flex'><input type='text' id='user-input' placeholder='Type your message...' autofocus><button onclick='sendMessage()'>{{.ButtonText}}</button></div><script>function appendMessage(text,isUser){const div=document.createElement('div');div.style.margin='10px 0';div.style.padding='10px';div.style.borderRadius='5px';div.style.backgroundColor=isUser?'#007bff':'#f0f0f0';div.style.color=isUser?'white':'black';div.textContent=text;document.getElementById('chat-container').appendChild(div);document.getElementById('chat-container').scrollTop=document.getElementById('chat-container').scrollHeight;}function sendMessage(){const input=document.getElementById('user-input');const message=input.value.trim();if(message){appendMessage(message,true);fetch(window.location.pathname+'/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:message})}).then(response=>response.json()).then(data=>{appendMessage(data.response,false);input.focus();}).catch(error=>console.error('Error:',error));input.value='';}}document.getElementById('user-input').addEventListener('keypress',function(e){if(e.key==='Enter'){sendMessage();}});fetch(window.location.pathname+'/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:'start'})}).then(response=>response.json()).then(data=>{appendMessage(data.response,false);document.getElementById('user-input').focus();})</script></body></html>"
    },
    "home_page": {
      "html": "<!DOCTYPE html><html><head><title>{{.SiteTitle}}</title><style>body{font-family:Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px}ul{list-style:none;padding:0}li{margin:20px 0;display:flex;align-items:center;gap:20px}a{color:#007bff;text-decoration:none;padding:10px;border:1px solid #007bff;display:inline-block;border-radius:5px}a:hover{background:#007bff;color:white}</style><script src='https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js'></script></head><body><h1>{{.SiteTitle}}</h1><ul>{{range .Forms}}<li><div id='qr-{{.Path}}'></div><a href='{{.Path}}'>{{.Title}}</a></li>{{end}}</ul><script>{{range .Forms}}var qr=qrcode(0,'M');qr.addData(window.location.origin+'{{.Path}}');qr.make();document.getElementById('qr-{{.Path}}').innerHTML=qr.createImgTag(5);{{end}}</script></body></html>"
    }
  },
  "forms": {
    "register": {
      "path": "/register",
      "title": "Registration Form",
      "description": "Please complete your registration",
      "button_text": "Send",
      "primary_key": "license",
      "prerequisite_form": "",
      "next_form": "visit",
      "form_template": "chat_form",
      "system_prompt": "You are a registration form assistant. Collect the following information one question at a time: Full Name, Date of Birth, License Number, and Contact Information. After collecting all information, show a summary and ask the user to confirm it's correct. If they confirm, respond with the exact phrase 'We are saving this form in our database.' followed by any thank you message. If they need to make corrections, help them update the information."
    },
    "visit": {
      "path": "/visit",
      "title": "Visit Form",
      "description": "Please describe your visit",
      "button_text": "Send",
      "primary_key": "visit_id",
      "prerequisite_form": "register",
      "next_form": "",
      "form_template": "chat_form",
      "system_prompt": "You are a visit scheduling assistant. Your task is to help users complete their visit form by collecting the following information:\n\n- Visit Purpose\n- Preferred Date/Time\n- Special Requirements\n\nPlease follow these rules:\n1. Ask for one piece of information at a time\n2. Validate each response before moving to the next field\n3. If the user responds in a different language, continue the conversation in that language\n4. After collecting all information, summarize and confirm with the user\n\nStart by greeting the user and asking about the purpose of their visit."
    }
  }
} 